```go
package main

import "fmt"

func f() (i int) {
    defer func() {
       i++
    }()
    return 0
}

func g() int {
    var i int
    defer func() {
       i++
    }()
    return i
}

func main() {
    fmt.Println(f()) // 输出 1
    fmt.Println(g()) // 输出 0
}
```

- **命名返回值 vs. 匿名返回值：**
    - `f()` 使用了命名返回值 `i` (`(i int)`)。这意味着在 `f()` 函数内部，`i` 就是一个可以被修改的变量。
    - `g()` 使用了匿名返回值 (`int`)。这意味着 `g()` 函数返回的是一个值，而不是一个变量的引用。
- **`return` 语句的执行顺序：** - `return` 语句包含两个步骤：**求值** 和 **返回**。 - **求值：** 计算要返回的值。 - **返回：** 将计算好的值返回给调用者。 - **关键：求值发生在 `defer` 语句执行 _之前_。**
    **最核心的区别：**

`f()` 和 `g()` 最核心的区别在于 `defer` 语句修改的对象不同：

- 在 `f()` 中，`defer` 修改的是 **命名返回值 `i` 本身**。因此，`defer` 的修改会影响最终的返回值。
- 在 `g()` 中，`defer` 修改的是函数内部的 **局部变量 `i`**。虽然 `return i` 看起来像是返回 `i`，但实际上返回的是 `i` 的 _值_。这个值在 `defer` 执行 _之前_ 就已经被确定了，所以 `defer` 的修改不会影响最终的返回值。
