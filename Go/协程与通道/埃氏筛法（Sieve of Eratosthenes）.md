埃拉托斯特尼筛法，难懂得一逼！以下代码可以筛选出 200 以内的质数

```go
// Copyright 2009 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.package main
package main

import "fmt"

// Send the sequence 2, 3, 4, ... to channel 'ch'.
func generate(ch chan int) {
    for i := 2; ; i++ {
       fmt.Printf("生成 %d\n", i)
       ch <- i // Send 'i' to channel 'ch'.
    }
}

// Copy the values from channel 'in' to channel 'out',
// removing those divisible by 'prime'.
func filter(in, out chan int, prime int) {
    for {
       i := <-in // Receive value of new variable 'i' from 'in'.
       if i%prime != 0 {
          out <- i // Send 'i' to channel 'out'.
       } else {
          fmt.Printf("❌ %d %% %d = 0\n", i, prime)
       }
    }
}

// The prime sieve: Daisy-chain filter processes together.func main() {
    ch := make(chan int) // Create a new channel.
    go generate(ch)      // Start generate() as a goroutine.
    for {
       prime := <-ch
       fmt.Println("✅", prime)
       ch1 := make(chan int)
       go filter(ch, ch1, prime)
       ch = ch1
       if prime > 200 {
          break
       }
    }
}
```

### 输出结果类似如下

```shell
生成 2
生成 3
✅ 2
✅ 3
生成 4
生成 5
❌ 4 % 2 = 0
✅ 5
生成 6
生成 7
❌ 6 % 2 = 0
✅ 7
生成 8
生成 9
❌ 8 % 2 = 0
❌ 9 % 3 = 0
生成 10
生成 11
❌ 10 % 2 = 0
✅ 11
生成 12
生成 13
❌ 12 % 2 = 0
✅ 13
生成 14
生成 15
❌ 14 % 2 = 0
❌ 15 % 3 = 0
生成 16
生成 17
❌ 16 % 2 = 0
✅ 17
生成 18
生成 19
❌ 18 % 2 = 0
✅ 19
生成 20
生成 21
❌ 20 % 2 = 0
❌ 21 % 3 = 0
生成 22
生成 23
❌ 22 % 2 = 0
生成 24
❌ 24 % 2 = 0
生成 25
生成 26
✅ 23
❌ 26 % 2 = 0
生成 27
生成 28
❌ 27 % 3 = 0
❌ 28 % 2 = 0
生成 29
生成 30
❌ 30 % 2 = 0
生成 31
生成 32
❌ 25 % 5 = 0
✅ 29
❌ 32 % 2 = 0
生成 33
✅ 31
❌ 33 % 3 = 0
生成 34
生成 35
❌ 34 % 2 = 0
❌ 35 % 5 = 0
生成 36
生成 37
❌ 36 % 2 = 0
✅ 37
生成 38
生成 39
❌ 38 % 2 = 0
❌ 39 % 3 = 0
生成 40
生成 41
❌ 40 % 2 = 0
✅ 41
生成 42
生成 43
❌ 42 % 2 = 0
✅ 43
生成 44
生成 45
❌ 44 % 2 = 0
❌ 45 % 3 = 0
生成 46
生成 47
❌ 46 % 2 = 0
生成 48
生成 49
✅ 47
❌ 48 % 2 = 0
❌ 49 % 7 = 0
生成 50
生成 51
❌ 50 % 2 = 0
❌ 51 % 3 = 0
生成 52
生成 53
❌ 52 % 2 = 0
✅ 53
生成 54
生成 55
❌ 54 % 2 = 0
❌ 55 % 5 = 0
生成 56
生成 57
❌ 56 % 2 = 0
❌ 57 % 3 = 0
生成 58
生成 59
❌ 58 % 2 = 0
生成 60
生成 61
✅ 59
❌ 60 % 2 = 0
✅ 61
生成 62
生成 63
❌ 62 % 2 = 0
❌ 63 % 3 = 0
生成 64
生成 65
❌ 64 % 2 = 0
❌ 65 % 5 = 0
生成 66
生成 67
❌ 66 % 2 = 0
生成 68
生成 69
❌ 68 % 2 = 0
✅ 67
❌ 69 % 3 = 0
生成 70
生成 71
❌ 70 % 2 = 0
✅ 71
生成 72
生成 73
❌ 72 % 2 = 0
生成 74
生成 75
❌ 74 % 2 = 0
❌ 75 % 3 = 0
✅ 73
生成 76
生成 77
❌ 76 % 2 = 0
❌ 77 % 7 = 0
生成 78
生成 79
❌ 78 % 2 = 0
生成 80
生成 81
✅ 79
❌ 80 % 2 = 0
❌ 81 % 3 = 0
生成 82
生成 83
❌ 82 % 2 = 0
生成 84
生成 85
❌ 84 % 2 = 0
✅ 83
❌ 85 % 5 = 0
生成 86
生成 87
❌ 86 % 2 = 0
❌ 87 % 3 = 0
生成 88
生成 89
❌ 88 % 2 = 0
✅ 89
生成 90
生成 91
❌ 90 % 2 = 0
❌ 91 % 7 = 0
生成 92
生成 93
❌ 92 % 2 = 0
❌ 93 % 3 = 0
生成 94
生成 95
❌ 94 % 2 = 0
❌ 95 % 5 = 0
生成 96
生成 97
❌ 96 % 2 = 0
生成 98
生成 99
✅ 97
❌ 98 % 2 = 0
❌ 99 % 3 = 0
生成 100
生成 101
❌ 100 % 2 = 0
生成 102
生成 103
✅ 101
❌ 102 % 2 = 0
✅ 103
生成 104
生成 105
❌ 104 % 2 = 0
❌ 105 % 3 = 0
生成 106
生成 107
❌ 106 % 2 = 0
生成 108
生成 109
❌ 108 % 2 = 0
✅ 107
生成 110
生成 111
❌ 110 % 2 = 0
❌ 111 % 3 = 0
生成 112
生成 113
❌ 112 % 2 = 0
✅ 109
✅ 113
生成 114
生成 115
❌ 114 % 2 = 0
❌ 115 % 5 = 0
生成 116
生成 117
❌ 116 % 2 = 0
❌ 117 % 3 = 0
生成 118
生成 119
❌ 118 % 2 = 0
❌ 119 % 7 = 0
生成 120
生成 121
❌ 120 % 2 = 0
生成 122
生成 123
❌ 122 % 2 = 0
❌ 123 % 3 = 0
生成 124
生成 125
❌ 124 % 2 = 0
❌ 125 % 5 = 0
生成 126
生成 127
❌ 126 % 2 = 0
生成 128
生成 129
❌ 128 % 2 = 0
❌ 129 % 3 = 0
❌ 121 % 11 = 0
生成 130
生成 131
❌ 130 % 2 = 0
生成 132
生成 133
❌ 132 % 2 = 0
生成 134
生成 135
✅ 127
❌ 134 % 2 = 0
✅ 131
生成 136
❌ 135 % 3 = 0
❌ 133 % 7 = 0
❌ 136 % 2 = 0
生成 137
生成 138
生成 139
❌ 138 % 2 = 0
✅ 137
生成 140
生成 141
✅ 139
❌ 140 % 2 = 0
❌ 141 % 3 = 0
生成 142
生成 143
❌ 142 % 2 = 0
❌ 143 % 11 = 0
生成 144
生成 145
❌ 144 % 2 = 0
❌ 145 % 5 = 0
生成 146
生成 147
❌ 146 % 2 = 0
❌ 147 % 3 = 0
生成 148
生成 149
❌ 148 % 2 = 0
生成 150
生成 151
❌ 150 % 2 = 0
✅ 149
生成 152
生成 153
❌ 152 % 2 = 0
❌ 153 % 3 = 0
生成 154
生成 155
❌ 154 % 2 = 0
❌ 155 % 5 = 0
✅ 151
生成 156
生成 157
❌ 156 % 2 = 0
生成 158
生成 159
✅ 157
❌ 158 % 2 = 0
❌ 159 % 3 = 0
生成 160
生成 161
❌ 160 % 2 = 0
❌ 161 % 7 = 0
生成 162
生成 163
❌ 162 % 2 = 0
生成 164
生成 165
✅ 163
❌ 164 % 2 = 0
❌ 165 % 3 = 0
生成 166
生成 167
❌ 166 % 2 = 0
生成 168
生成 169
❌ 168 % 2 = 0
❌ 169 % 13 = 0
✅ 167
生成 170
生成 171
❌ 170 % 2 = 0
生成 172
❌ 172 % 2 = 0
生成 173
生成 174
❌ 171 % 3 = 0
❌ 174 % 2 = 0
生成 175
生成 176
❌ 176 % 2 = 0
✅ 173
生成 177
生成 178
❌ 178 % 2 = 0
生成 179
生成 180
❌ 177 % 3 = 0
❌ 180 % 2 = 0
❌ 175 % 5 = 0
生成 181
生成 182
✅ 179
❌ 182 % 2 = 0
生成 183
生成 184
❌ 184 % 2 = 0
生成 185
生成 186
✅ 181
❌ 183 % 3 = 0
❌ 185 % 5 = 0
❌ 186 % 2 = 0
生成 187
生成 188
❌ 188 % 2 = 0
生成 189
生成 190
❌ 189 % 3 = 0
❌ 190 % 2 = 0
生成 191
生成 192
❌ 192 % 2 = 0
生成 193
生成 194
❌ 194 % 2 = 0
生成 195
生成 196
❌ 187 % 11 = 0
❌ 195 % 3 = 0
生成 197
❌ 196 % 2 = 0
生成 198
生成 199
❌ 198 % 2 = 0
✅ 191
生成 200
✅ 193
❌ 200 % 2 = 0
生成 201
✅ 197
生成 202
❌ 202 % 2 = 0
❌ 201 % 3 = 0
生成 203
✅ 199
生成 204
❌ 204 % 2 = 0
生成 205
生成 206
生成 207
❌ 205 % 5 = 0
❌ 203 % 7 = 0
❌ 206 % 2 = 0
❌ 207 % 3 = 0
生成 208
生成 209
❌ 208 % 2 = 0
生成 210
生成 211
❌ 210 % 2 = 0
❌ 209 % 11 = 0
生成 212
生成 213
❌ 212 % 2 = 0
❌ 213 % 3 = 0
生成 214
生成 215
❌ 214 % 2 = 0
❌ 215 % 5 = 0
✅ 211
生成 216

进程 已完成，退出代码为 0

```

### 新单词

sieve /sɪv/
n. 筛子，滤网
v. 筛选

prime /praɪm/
prime number [数]质数,素数
prime time 黄金时段
prime minister /praɪm ˈmɪnɪstə/ 总理,首相
