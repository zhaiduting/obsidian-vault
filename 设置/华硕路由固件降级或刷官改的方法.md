将 RT-BE88U 路由固件升级后，发现在路由器的 Web 管理界面无法降级，也无法改刷梅林固件。可以通过以下两种方法解决这个问题。

## 方法一：关闭降级检测功能

ssh 登录路由器后台，输入命令：

```shell
nvram set DOWNGRADE_CHECK_PASS=1
```

输入命令后就能正常使用 web 刷机的方法进行刷机，以后梅林改刷梅林，梅林改刷官改就不需要此命令（实际测试发现此法无效，于是改用法二）。

## 方法二：使用救援工具降级

关于[救援工具](https://www.asus.com.cn/networking-iot-servers/wifi-routers/asus-gaming-routers/rt-be88u/helpdesk_download?model2Name=RT-BE88U)的使用方法可以[点此链接查看详情](https://www.asus.com.cn/support/faq/1000814/)

问题是救援工具没有 Mac 版的，我只能通过 Win11 虚拟机运行救援工具了。折腾许久，最终搞定，相关要点整理如下。
![虚拟机有线网卡](https://lib.zhaiduting.work.gd/uPic/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%9C%89%E7%BA%BF%E7%BD%91%E5%8D%A1.png)
![虚拟机有线网卡IP](https://lib.zhaiduting.work.gd/uPic/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%9C%89%E7%BA%BF%E7%BD%91%E5%8D%A1IP.png)
### Mac 安装虚拟机

（内容省略）

### 网购一个扩展坞

要带有网线接口转 Type C 接口的那种，因为路由器进入救援模式后会导致无线网络断开，MacBook 只能通过扩展坞插上网线才能连上路由器。

### 虚拟网卡如上图所示

相关 IP 地址如下

```
宿主机 IP 地址：192.168.50.x
虚拟机 IP 地址：192.168.50.y
子网掩码：255.255.255.0
无需设置默认网关及 DNS 服务器
```

### 验证网络设置的正确性

满足以下条件时，虚拟机网络可供救援工具发现路由器

1. 让路由器处于正常运行状态（非救援模式）
2. 设置虚拟机 IP 地址为 192.168.50.10
3. 虚拟机的浏览器可以通过 http://192.168.50.1 打开路由器的 Web 管理页面

### 开始救援

确认网络设置没问题后就可以给路由器降级了，步骤如下

1. 关闭路由器
2. 按住 Reset 按钮时打开路由器，继续长按 Reset 直到 Led 灯熄灭（约 20 几秒）
3. 在虚拟机里运行救援工具，找到相关固件后点击上传按钮即可。

### BUG

在 Windows 虚拟机中，救援工具经常提示找不到设备，即使路由器已经处于恢复模式下，仍然存在这个问题。

没有好的对策，只能尝试让路由器多次进入恢复模式：

- 查看网络属性，更改适配器设置，这会打开一个新窗口并显示网卡列表
- 关闭路由器电源，对应的网卡应当显示一个 ❌ 号
- 按住 reset 按钮时开启路由器电源，持续按住 20 秒后，对应网卡图标显示`正在识别...`
- 稍后再次点击救援工具中的上传按钮尝试给路由器刷固件

这个过程中，救援工具一直处于打开状态（无需关闭后重开救援工具）
