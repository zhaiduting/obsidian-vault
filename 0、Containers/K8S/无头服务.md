当你将 Kubernetes Service 的 `spec.clusterIP` 设置为 `None` 时, 它就变成了一个 **Headless Service（无头服务）**。

### 它会获得什么域名？

Headless Service 主要用于**服务发现**。它的标准域名格式如下：

> `<服务名>.<命名空间>.svc.cluster.local`

### 与普通 Service 的区别

- **普通 Service (ClusterIP):** DNS 返回的是 Service 的**虚拟 IP (VIP)**。
- **Headless Service:** DNS 直接返回该服务后端**所有 Pod 的具体 IP 地址列表**。

### Pod 的独立域名

如果你在 Deployment 或 StatefulSet 中配置了 `hostname` 和 `subdomain`（且 subdomain 与 Headless Service 名一致），每个 Pod 甚至可以获得唯一的域名：

> `<pod-name>.<service-name>.<namespace>.svc.cluster.local`

### 验证域名

从文件 `/etc/resolv.conf` 找到 DNS 的 IP 地址，然后用它执行 dig 命令即可验证域名是否有效。

```sh
cat /etc/resolv.conf
dig @<DNS的IP> <服务名>.<命名空间>.svc.cluster.local
```
