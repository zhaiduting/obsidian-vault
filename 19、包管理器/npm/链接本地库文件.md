### 只需掌握两条命令

在 my-lib 库文件的项目根目录输入命令

```sh
npm link
```

客户端项目可以使用以下命令链接本地依赖库

```sh
npm link my-lib
```

### 疑问

my-lib 是不是本地库的根目录的文件夹名称？测试发现，my-lib 并非本地库的文件夹名称，而是 package.json 文件中 name 的属性值。

因为 `npm link` 总是基于库的 `package.json` 中 **`name` 属性**值来注册和链接，而不是基于项目文件夹的名称。

### 其它命令

显示所有已注册的本地库

```sh
npm list -g --link
```

取消注册

```sh
# 全局删除命令如下，这会导致所有依赖 my-lib 库的项目找不到依赖库
npm unlink -g my-lib

# 如果命令提示符位于 my-lib 库项目的根目录，可简单使用以下命令
npm unlink -g
```

客户端删除依赖

```sh
# 相当于执行 npm uninstall 命令
npm unlink my-lib
```

### 辨析 unlink 命令

如果 unlink 命令没有 `-g` 选项，则表示删除依赖库。相当于执行 `npm uninstall` 命令删除了某个依赖。

如果使用了 `-g` 选项，则表示取消注册。相当于手动删除全局 node_modules 目录下的软链接。

### 查找全局 `node_modules` 目录的最佳方法

确定全局 `node_modules` 目录位置的最可靠方法是使用以下命令

```sh
npm root -g
```
