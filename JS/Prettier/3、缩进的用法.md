文件 `indent_example.js` 内容如下

```js
import prettier from "prettier";
import { ps } from "./ps.mjs";

const { group, indent, concat, line } = prettier.doc.builders;

const doc = concat(["[", indent(concat([line, "hello"])), line, "]"]);

ps(group(doc)); // 单行显示
ps(group(doc), 2); // 多行显示
```

终端执行命令 `node indent_example.js` 后输出以下内容，其中 hello 相对于方括号缩进了 4 个空格

```
[ hello ]
[
    hello
]
```

成功的缩进需要注意以下几点

### 缩进的内容必须以换行开头

只有在换行指令之后的内容才会有缩进效果，因此数组形式如下

```js
[line, "hello"];
```

问题是 indent 的参数必须是一个 doc（Prettier 内部的 **抽象打印文档对象**），因此需要使用 concat 将数组转成 doc 后才能作为 indent() 的参数

```js
indent(concat([line, "hello"]));
```

假设缩进的内容是放在 `[ ]` 里面的，包括这对方括号在内的整个 doc 就应该写成下面这样

```js
concat(["[", indent(concat([line, "hello"])), line, "]"]);
```

### 必须指定 tabWidth

在 [0、打印助手 ps(doc, width , log)](<./0、打印助手%20ps(doc,%20width%20,%20log).md>) 函数中已经设置过 `tabWidth: 4` 了，可以正常缩进。
如果改成下面这样则不会缩进！原因是函数的选项参数没有指定 tabWidth 属性

```js
prettier.doc.printer.printDocToString(doc, {});
```

### 关于智能换行

当一行能显示完时，希望直接输出没有换行的文本 `[ hello ]`。这需要使用 `group()` 包裹 doc，并且指定 `printWidth` 的值。

```js
const { group, indent, concat, line } = prettier.doc.builders;
// 此处省略其它代码
const ps = prettier.doc.printer.printDocToString(group(doc), {
  tabWidth: 4,
  printWidth: 80,
});
```
