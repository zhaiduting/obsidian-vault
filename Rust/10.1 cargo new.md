### 1. 命令区别

| **命令**                | **默认生成的 Crate 类型** | **核心文件**      | **用途**                          |
| --------------------- | ------------------ | ------------- | ------------------------------- |
| **`cargo new`**       | **Binary (二进制)**   | `src/main.rs` | 这是 `cargo new --bin` 的**默认简写**。 |
| **`cargo new --bin`** | **Binary (二进制)**   | `src/main.rs` | 显式指定创建一个可执行程序。                  |
| **`cargo new --lib`** | **Library (库)**    | `src/lib.rs`  | 创建一个供他人调用的库。                    |

**核心差异点：**

- **`main.rs`**：里面包含 `fn main()` 入口，运行 `cargo run` 会执行它。
- **`lib.rs`**：没有 `main` 入口，不能直接 `run`。它定义了一系列函数供外部 Crate 引用。

---

### 2. `new` 命令是唯一的吗？

是的，`cargo new` 是最常用的**新建项目专用命令**。

但还有一个非常像的兄弟命令：**`cargo init`**。

- **`cargo new <folder>`**：创建一个新文件夹，并在里面初始化项目。
- **`cargo init`**：在**当前已经存在**的文件夹里初始化项目（不会新建文件夹）。

---

### 3. `cargo new` 的常用选项 (Flags)

除了 `--bin` 和 `--lib`，这些选项在实际开发中也非常有用：

#### ① 指定项目名称：`--name`

如果你希望文件夹叫 `hello`，但项目名（Cargo.toml 里的名字）叫 `world`：

```sh
cargo new hello --name world
```

#### ② 指定版本控制：`--vcs`

Cargo 默认会帮你初始化一个 Git 仓库（`git init`）。

- 如果你不想用 Git：`cargo new my_project --vcs none`
- 如果你想用别的（如 Mercurial）：`cargo new my_project --vcs hg`

#### ③ 指定代码版本：`--edition`

指定使用哪一年的 Rust 语言标准（如 2018, 2021）。如果不写，默认使用当前 Rust 版本的最新标准：

```sh
cargo new my_project --edition 2021
```

#### ④ 注册到工作空间：`--registry`

在发布到特定的私有仓库时使用（进阶用法）。

---

### 4. 总结：我该选哪个？

- 如果你想写一个**工具、小游戏、Web 服务器**：直接 `cargo new <项目名>`。
- 如果你想写一个**通用的算法库、驱动、或者给别人用的插件**：用 `cargo new --lib <项目名>`。

---

**既然你已经掌握了如何创建各种类型的项目，要不要试试在一个项目里手动把 `lib.rs` 改成既能当库用，又能通过 `main.rs` 运行的“双料”项目？这能帮你加深对 Crate 根的理解。**
