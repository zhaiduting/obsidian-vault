---
author:
  - Gemini
created: 2026-02-21
source: https://gemini.google.com/app/df917a55ab5d5efc
---

```rust
struct Circle {
    radius: f64,
}

impl Circle {
    // 关联函数（构造函数）：通常用于创建实例
    fn new(radius: f64) -> Self {
        Self { radius }
    }

    // 方法（Method）：第一个参数必须是 self，支持点语法 cir.area()
    fn area(&self) -> f64 {
        3.14 * self.radius * self.radius
    }

    // 关联函数（Associated Function）：第一个参数不是 self（即便叫 this 也不行）
    // 只能通过 Circle::area2(&cir) 调用
    fn area2(this: &Self) -> f64 {
        3.14 * this.radius * this.radius
    }
}

fn main() {
    // 1. 使用构造函数创建
    let cir = Circle::new(4.0);
    println!("Radius 4.0 (Method): {}", cir.area());
    println!("Radius 4.0 (Assoc):  {}", Circle::area2(&cir));

    // 2. 直接实例化结构体
    let cir2 = Circle { radius: 2.0 };
    println!("Radius 2.0 (Method): {}", cir2.area());
    println!("Radius 2.0 (Assoc):  {}", Circle::area2(&cir2));
}

```

### 关键点复盘

| **函数名称** | **参数形式**  | **调用方式 (Syntax)** | **性质**                |
| ------------ | ------------- | --------------------- | ----------------------- |
| `new`        | `radius: f64` | `Circle::new(4.0)`    | 关联函数 (类似静态方法) |
| `area`       | `&self`       | **`cir.area()`**      | **方法 (Method)**       |
| `area2`      | `this: &Self` | `Circle::area2(&cir)` | 关联函数                |
